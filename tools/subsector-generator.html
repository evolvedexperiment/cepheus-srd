<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Cepheus Engine SubSubsector Generator</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
	<link href="../cepheus-engine-srd.css" rel="stylesheet">
</head>
<body>
	<header>
		<nav class="navbar navbar-expand-xxl navbar-dark bg-dark fixed-top">
			<div class="container-fluid">
				<a class="navbar-brand" href="../index.html">Cepheus Engine SRD</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a class="nav-link" href="../introduction.html">Introduction</a>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="" role="button" data-bs-toggle="dropdown" aria-expanded="false">Book 1: Characters</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="../character-creation.html">Chapter 1: Character Creation</a>
								<a class="dropdown-item" href="../skills.html">Chapter 2: Skills</a>
								<a class="dropdown-item" href="../psionics.html">Chapter 3: Psionics</a>
								<a class="dropdown-item" href="../equipment.html">Chapter 4: Equipment</a>
								<a class="dropdown-item" href="../personal-combat.html">Chapter 5: Personal Combat</a>
							</div>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="" role="button" data-bs-toggle="dropdown" aria-expanded="false">Book 2: Starships and Interstellar Travel</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="../off-world-travel.html">Chapter 6: Off-World Travel</a>
								<a class="dropdown-item" href="../trade-and-commerce.html">Chapter 7: Trade and Commerce</a>
								<a class="dropdown-item" href="../ship-design-and-construction.html">Chapter 8: Ship Design and Construction</a>
								<a class="dropdown-item" href="../common-vessels.html">Chapter 9: Common Vessels</a>
								<a class="dropdown-item" href="../space-combat.html">Chapter 10: Space Combat</a>
							</div>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="" role="button" data-bs-toggle="dropdown" aria-expanded="false">Book 3: Referees</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="../environments-and-hazards.html">Chapter 11: Environments and Hazards</a>
								<a class="dropdown-item" href="../worlds.html">Chapter 12: Worlds</a>
								<a class="dropdown-item" href="../planetary-wilderness-encounters.html">Chapter 13: Planetary Wilderness Encounters</a>
								<a class="dropdown-item" href="../social-encounters.html">Chapter 14: Social Encounters</a>
								<a class="dropdown-item" href="../starship-encounters.html">Chapter 15: Starship Encounters</a>
								<a class="dropdown-item" href="../refereeing-the-game.html">Chapter 16: Refereeing the Game</a>
								<a class="dropdown-item" href="../adventures.html">Chapter 17: Adventures</a>
							</div>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="" role="button" data-bs-toggle="dropdown" aria-expanded="false">Vehicle Design System</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="../vds-introduction.html">Introduction</a>
								<a class="dropdown-item" href="../vehicle-design.html">Chapter 1: Vehicle Design</a>
								<a class="dropdown-item" href="../common-aircraft.html">Chapter 2: Common Aircraft</a>
								<a class="dropdown-item" href="../common-grav-vehicles.html">Chapter 3: Common Grav Vehicles</a>
								<a class="dropdown-item" href="../common-ground-vehicles.html">Chapter 4: Common Ground Vehicles</a>
								<a class="dropdown-item" href="../common-watercraft.html">Chapter 5: Common Watercraft</a>
								<a class="dropdown-item" href="../uncommon-vehicles.html">Chapter 6: Uncommon Vehicles</a>
								<a class="dropdown-item" href="../updated-common-vehicles-table.html">Appendix A: Updated Common Vehicles Table</a>
							</div>
						</li>
						<li class="nav-item dropdown active">
							<a class="nav-link dropdown-toggle active" data-toggle="dropdown" href="" role="button" data-bs-toggle="dropdown" aria-expanded="false">Tools</a>
							<div class="dropdown-menu">
								<a class="dropdown-item active" href="subsector-generator.html">Subsector Generator</a>
							</div>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="../legal.html">Legal</a>
						</li>
					</ul>
					<form class="d-flex" action="../search.html">
						<div class="input-group ml-sm-2">
							<input class="form-control" type="search" placeholder="Search" aria-label="Search" name="q">
							<button class="btn btn-outline-light" type="submit">Search</button>
						</div>
					</form>
				</div>
			</div>
		</nav>
	</header>

	<main class="container w-75">
		<h1>Cepheus Engine Subsector Generator</h1>
		<p class="lead">
			This tool will generate a Cepheus Engine subsector according to the rules found in <a href="../worlds.html">Chapter 12: Worlds</a>. The output is in <a href="https://travellermap.com/doc/fileformats#legacy-sec-format" target="_blank">SEC format</a> and can be copy/pasted into the <a href="https://travellermap.com/doc/custom" target="_blank">Traveller Map custom data tools</a>.
		</p>

		<div class="btn-group btn-group-toggle btn-block w-100" data-toggle="buttons">
			<label class="btn btn-outline-dark active">
				<input type="radio" class="btn-check" name="sectorType" value="4" checked onclick="init()">Standard Subsector
			</label>
			<label class="btn btn-outline-dark">
				<input type="radio" class="btn-check" name="sectorType" value="6" onclick="init()">Rift Subsector
			</label>
			<label class="btn btn-outline-dark">
				<input type="radio" class="btn-check" name="sectorType" value="5" onclick="init()">Sparse Subsector
			</label>
			<label class="btn btn-outline-dark">
				<input type="radio" class="btn-check" name="sectorType" value="3" onclick="init()">Dense Subsector
			</label>
		</div>
		<textarea class="form-control" id="output" rows="12"></textarea>
		<div id="sectorPopulation"></div>
		<div id="travellermappreview"><span><button id="btnPreview">Preview</button></span>

		<span>Style: 
		<select id="sectorImageStyle">
		<option value="poster" selected>Poster - color-on-black.
		<option value="print">Print - color-on-white for color printing.
		<option value="atlas">Atlas - greyscale black-on-white for black-and-white printing.
		<option value="candy">Candy - style designed by Wayne Peters.
		<option value="draft">Draft - reminiscent of GDW's original hand-drawn draft.
		<option value="fasa">FASA - reminiscent of FASA's classic supplements and magazines.
		<option value="terminal">Terminal - reminiscent of retro-futuristic computer terminals.
		<option value="mongoose">Mongoose - similar to Mongoose Publishing's house style.
		</select>
		</span>
		</div>
		<div id="travellermapopen">The following buttons open new windows with the content:<br>
			<span><button id="btnOpenPNG">Open PNG</button></span>
			<span><button id="btnOpenSVG">Open SVG</button></span>
			<span><button id="btnOpenPDF">Open PDF</button></span>
		</div>
		<div id="sectorImage"></div>

		<script src="pseudohex.js"></script>
		<script src="roll.js"></script>
		<script src="sector.js"></script>
		<script src="world.js"></script>
		<script src="sectorimage.js"></script>
		<script>
			function init() {
				let sectorData = "";
				sectorData = generateSector(document.querySelector('input[name="sectorType"]:checked').value);

				document.getElementById("output").textContent = sectorData;
				document.getElementById("sectorPopulation").textContent = calculatePopulation(document.getElementById("output").value);

			//TODO: Would be nice to get a map image using the API (https://travellermap.com/doc/api#poster-render-a-sector-quadrant-or-subsector) and display it under the textarea
				document.getElementById("btnPreview").addEventListener("click", function() { getSectorImage(document.getElementById("sectorImage"), "preview", document.getElementById("sectorImageStyle").value, sectorData); });
				document.getElementById("btnOpenPNG").addEventListener("click", function() { getSectorImage(null, "png", document.getElementById("sectorImageStyle").value, sectorData); });
				document.getElementById("btnOpenSVG").addEventListener("click", function() { getSectorImage(null, "svg", document.getElementById("sectorImageStyle").value, sectorData); });
				document.getElementById("btnOpenPDF").addEventListener("click", function() { getSectorImage(null, "pdf", document.getElementById("sectorImageStyle").value, sectorData); });
			}
			init();
		</script>
	</main>

	<footer class="footer fixed-bottom">
		<div class="container text-muted text-center">Cepheus Engine System Reference Document, Copyright Â© 2016 Samardan Press; Author Jason "Flynn" Kemp</div>
	</footer>

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>

</body>
</html>
